"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5349],{1505:(S,d,a)=>{a.r(d),a.d(d,{DetailsPageModule:()=>D});var h=a(6895),c=a(4719),o=a(4123),l=a(5012),u=a(5861),Z=a(2959),C=a(585),m=a(7397),p=a(5783),P=a(8701),v=a(8897),e=a(6738),g=a(354),f=a(3071),M=a(2468);let j=(()=>{class n{constructor(t,i,s,b,_,z,N,Y,F){this.alertCtrl=t,this.toastCtrl=i,this.platform=s,this.projectService=b,this.router=_,this.modalCtrl=z,this.userService=N,this.activatedRoute=Y,this.dataService=F}ngOnInit(){}deleteProject(){this.projectService.deleteProjectById(this.project).subscribe(t=>{console.log(t),this.showSuccessNotification(),this.notifyAboutDeleteChange(),this.router.navigate([v.Ne])},t=>{console.log(t),this.showFailureNotification()}),this.modalCtrl.dismiss()}notifyAboutDeleteChange(){this.dataService.notifyAboutProjectChange()}showSuccessNotification(){var t=this;return(0,u.Z)(function*(){t.platform.is("android")?(yield t.toastCtrl.create({header:`${t.project.name} a \xe9t\xe9 correctement supprim\xe9!`,message:"",duration:3e3})).present():(yield t.alertCtrl.create({header:`${t.project.name} a \xe9t\xe9 correctement supprim\xe9!`,message:"",buttons:["OK"]})).present()})()}showFailureNotification(){var t=this;return(0,u.Z)(function*(){(yield t.alertCtrl.create({header:"Une erreur est survenue sur le serveur",message:"Veuillez r\xe9essayer plus tard",buttons:["OK"]})).present()})()}dismissModal(){this.modalCtrl.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.Br),e.Y36(o.yF),e.Y36(o.t4),e.Y36(g.Y),e.Y36(l.F0),e.Y36(o.IN),e.Y36(f.K),e.Y36(l.gz),e.Y36(M.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-project-delete"]],inputs:{project:"project"},decls:19,vars:1,consts:[[1,"close-button",3,"click"],["name","close-outline"],["type","submit","color","primary","size","medium","expand","block",3,"click"],["name","checkbox-outline"],["color","light","size","medium","expand","block",3,"click"],["name","exit-outline"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header")(1,"button",0),e.NdJ("click",function(){return i.dismissModal()}),e._UZ(2,"ion-icon",1),e.qZA(),e.TgZ(3,"h1"),e._uU(4,"Supprimer le projet ?"),e.qZA()(),e.TgZ(5,"ion-content")(6,"form")(7,"ion-label"),e._uU(8),e.qZA(),e.TgZ(9,"ion-button",2),e.NdJ("click",function(){return i.deleteProject()}),e.TgZ(10,"span")(11,"span"),e._uU(12,"Supprimer"),e.qZA(),e._UZ(13,"ion-icon",3),e.qZA()(),e.TgZ(14,"ion-button",4),e.NdJ("click",function(){return i.dismissModal()}),e.TgZ(15,"span")(16,"span"),e._uU(17,"Annuler"),e.qZA(),e._UZ(18,"ion-icon",5),e.qZA()()()()),2&t&&(e.xp6(8),e.hij("Etes-vous s\xfbr de vouloir supprimer ",i.project.name," ? Attention, cette action sera d\xe9finitive !"))},dependencies:[c._Y,c.JL,c.F,o.YG,o.W2,o.Gu,o.gu,o.Q$],styles:["ion-label[_ngcontent-%COMP%]{text-align:center;margin-bottom:5em;color:red}ion-button[_ngcontent-%COMP%]{width:50%;margin:0 auto 1em}ion-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-around}ion-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{flex:1}"]}),n})();var A=a(3482);const O=[{path:"",component:(()=>{class n{constructor(t,i,s){this.activatedRoute=t,this.projectService=i,this.modalCtrl=s,this.project=new m.I,this.modalAnimations=P.L.getModalAnimation()}ngOnInit(){this.project.id=this.activatedRoute.snapshot.params.id,this.projectService.getProjectById(this.project).subscribe(t=>{this.project=Object.setPrototypeOf(t,m.I.prototype),console.log("mon projet: "+this.project),this.project.author=Object.setPrototypeOf(t.author,p.n.prototype),this.project.campaigns.map(i=>Object.setPrototypeOf(i,C.l.prototype)),this.project.contributors.map(i=>Object.setPrototypeOf(i,p.n.prototype))})}ngOnDestroy(){this.modalCtrl.dismiss()}openNewCampaignModal(){var t=this;return(0,u.Z)(function*(){yield(yield t.modalCtrl.create({component:Z.q,cssClass:["namastest-modal","namastest-list-modal"],enterAnimation:t.modalAnimations.enterAnimation,leaveAnimation:t.modalAnimations.leaveAnimation,componentProps:{project:t.project}})).present()})()}openDeleteProjectModal(){var t=this;return(0,u.Z)(function*(){yield(yield t.modalCtrl.create({component:j,cssClass:["namastest-modal","namastest-center-modal"],enterAnimation:t.modalAnimations.enterAnimation,leaveAnimation:t.modalAnimations.leaveAnimation,componentProps:{project:t.project}})).present()})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.gz),e.Y36(g.Y),e.Y36(o.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-details"]],decls:70,vars:3,consts:[[1,"ion-hide-lg-down"],["name","fieldName","ngDefaultControl","",3,"ngModel"],[1,"headerColors"],["name","briefcase-outline"],[3,"routerLink"],["name","list","slot","start"],[1,"ion-activatable",3,"click"],["name","add","slot","start"],["name","people-outline"],[1,"ion-activatable"],["name","shield-half-outline"],[1,"danger-delete"],["name","warning-outline"],["name","trash-outline","slot","start"]],template:function(t,i){1&t&&(e._UZ(0,"app-header",0),e.TgZ(1,"ion-content")(2,"div")(3,"h1",1),e._uU(4),e.qZA(),e.TgZ(5,"ion-card")(6,"ion-card-header",2)(7,"ion-card-title"),e._UZ(8,"ion-icon",3),e._uU(9," \xa0 Campagnes"),e.qZA()(),e.TgZ(10,"ion-card-content")(11,"ion-list")(12,"ion-list-header")(13,"ion-note"),e._uU(14,"Pr\xe9parez vos campagnes en ajoutant des tests et catalogues. Ex\xe9cutez-les et consultez les r\xe9sultats."),e.qZA()(),e.TgZ(15,"ion-item",4),e._UZ(16,"ion-icon",5),e.TgZ(17,"ion-label"),e._uU(18,"Liste des campagnes"),e.qZA()(),e.TgZ(19,"ion-item",6),e.NdJ("click",function(){return i.openNewCampaignModal()}),e._UZ(20,"ion-icon",7),e.TgZ(21,"ion-label"),e._uU(22,"Cr\xe9er une nouvelle campagne"),e.qZA()()()()(),e.TgZ(23,"ion-card")(24,"ion-card-header")(25,"ion-card-title"),e._UZ(26,"ion-icon",8),e._uU(27," \xa0 Participants"),e.qZA()(),e.TgZ(28,"ion-card-content")(29,"ion-list")(30,"ion-list-header")(31,"ion-note"),e._uU(32,"Invitez d'autres collaborateurs \xe0 participer au projet et consultez les participants actuels."),e.qZA()(),e.TgZ(33,"ion-item",9),e._UZ(34,"ion-icon",5),e.TgZ(35,"ion-label"),e._uU(36,"Liste des participants"),e.qZA()(),e.TgZ(37,"ion-item",9),e._UZ(38,"ion-icon",7),e.TgZ(39,"ion-label"),e._uU(40,"Inviter un nouveau participant"),e.qZA()()()()(),e.TgZ(41,"ion-card")(42,"ion-card-header")(43,"ion-card-title"),e._UZ(44,"ion-icon",10),e._uU(45," \xa0 Roles"),e.qZA()(),e.TgZ(46,"ion-card-content")(47,"ion-list")(48,"ion-list-header")(49,"ion-note"),e._uU(50,"Visualisez et modifiez les droits li\xe9s aux r\xf4les utilisateurs. Cr\xe9ez un nouveau r\xf4le."),e.qZA()(),e.TgZ(51,"ion-item",9),e._UZ(52,"ion-icon",5),e.TgZ(53,"ion-label"),e._uU(54,"Liste des r\xf4les"),e.qZA()(),e.TgZ(55,"ion-item",9),e._UZ(56,"ion-icon",7),e.TgZ(57,"ion-label"),e._uU(58,"Cr\xe9er un nouveau r\xf4le"),e.qZA()()()()(),e.TgZ(59,"ion-card")(60,"ion-card-header",11)(61,"ion-card-title"),e._UZ(62,"ion-icon",12),e._uU(63," \xa0 S\xe9curit\xe9"),e.qZA()(),e.TgZ(64,"ion-card-content")(65,"ion-list")(66,"ion-item",6),e.NdJ("click",function(){return i.openDeleteProjectModal()}),e._UZ(67,"ion-icon",13),e.TgZ(68,"ion-label"),e._uU(69,"Supprimer ce projet"),e.qZA()()()()()()()),2&t&&(e.xp6(3),e.Q6J("ngModel",i.project.name),e.xp6(1),e.Oqu(i.project.name),e.xp6(11),e.MGl("routerLink","/project/details/",i.project.id,"/campaign/list"))},dependencies:[c.Fj,c.JJ,c.On,o.PM,o.FN,o.Zi,o.Dq,o.W2,o.gu,o.Ie,o.Q$,o.q_,o.yh,o.uN,o.YI,l.rH,A.G],styles:["ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:2em auto 1em;color:#1e7c9e;text-align:center}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{background-color:#1e7c9e}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:medium}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-top:1em;font-size:small}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-header.danger-delete[_ngcontent-%COMP%]{background-color:var(--ion-color-danger)}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{cursor:pointer}@media screen and (min-width: 768px){ion-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:2em auto}}"]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.Bz.forChild(O),l.Bz]}),n})();var T=a(7039),U=a(677);let D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.ez,c.u5,o.Pc,y,T.CreateCampaignPageModule,U.O]}),n})()}}]);