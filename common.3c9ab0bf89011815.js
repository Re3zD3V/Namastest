"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{4833:(P,v,t)=>{t.d(v,{c:()=>r});var c=t(7205),e=t(7683),l=t(3139);const r=(o,s)=>{let u,n;const d=(p,a,g)=>{if(typeof document>"u")return;const C=document.elementFromPoint(p,a);C&&s(C)?C!==u&&(_(),i(C,g)):_()},i=(p,a)=>{u=p,n||(n=u);const g=u;(0,c.c)(()=>g.classList.add("ion-activated")),a()},_=(p=!1)=>{if(!u)return;const a=u;(0,c.c)(()=>a.classList.remove("ion-activated")),p&&n!==u&&u.click(),u=void 0};return(0,l.createGesture)({el:o,gestureName:"buttonActiveDrag",threshold:0,onStart:p=>d(p.currentX,p.currentY,e.a),onMove:p=>d(p.currentX,p.currentY,e.b),onEnd:()=>{_(!0),(0,e.h)(),n=void 0}})}},5062:(P,v,t)=>{t.d(v,{i:()=>c});const c=e=>e&&""!==e.dir?"rtl"===e.dir.toLowerCase():"rtl"===document?.dir.toLowerCase()},1112:(P,v,t)=>{t.r(v),t.d(v,{startFocusVisible:()=>r});const c="ion-focused",l=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],r=o=>{let s=[],u=!0;const n=o?o.shadowRoot:document,d=o||document.body,i=f=>{s.forEach(h=>h.classList.remove(c)),f.forEach(h=>h.classList.add(c)),s=f},_=()=>{u=!1,i([])},p=f=>{u=l.includes(f.key),u||i([])},a=f=>{if(u&&f.composedPath){const h=f.composedPath().filter(M=>!!M.classList&&M.classList.contains("ion-focusable"));i(h)}},g=()=>{n.activeElement===d&&i([])};return n.addEventListener("keydown",p),n.addEventListener("focusin",a),n.addEventListener("focusout",g),n.addEventListener("touchstart",_),n.addEventListener("mousedown",_),{destroy:()=>{n.removeEventListener("keydown",p),n.removeEventListener("focusin",a),n.removeEventListener("focusout",g),n.removeEventListener("touchstart",_),n.removeEventListener("mousedown",_)},setFocus:i}}},1878:(P,v,t)=>{t.d(v,{C:()=>o,a:()=>l,d:()=>r});var c=t(5861),e=t(3756);const l=function(){var s=(0,c.Z)(function*(u,n,d,i,_,p){var a;if(u)return u.attachViewToDom(n,d,_,i);if(!(p||"string"==typeof d||d instanceof HTMLElement))throw new Error("framework delegate is missing");const g="string"==typeof d?null===(a=n.ownerDocument)||void 0===a?void 0:a.createElement(d):d;return i&&i.forEach(C=>g.classList.add(C)),_&&Object.assign(g,_),n.appendChild(g),yield new Promise(C=>(0,e.c)(g,C)),g});return function(n,d,i,_,p,a){return s.apply(this,arguments)}}(),r=(s,u)=>{if(u){if(s)return s.removeViewFromDom(u.parentElement,u);u.remove()}return Promise.resolve()},o=()=>{let s,u;return{attachViewToDom:function(){var i=(0,c.Z)(function*(_,p,a={},g=[]){var C,f;if(s=_,p){const M="string"==typeof p?null===(C=s.ownerDocument)||void 0===C?void 0:C.createElement(p):p;g.forEach(m=>M.classList.add(m)),Object.assign(M,a),s.appendChild(M),yield new Promise(m=>(0,e.c)(M,m))}else if(s.children.length>0){const M=null===(f=s.ownerDocument)||void 0===f?void 0:f.createElement("div");g.forEach(m=>M.classList.add(m)),M.append(...s.children),s.appendChild(M)}const h=document.querySelector("ion-app")||document.body;return u=document.createComment("ionic teleport"),s.parentNode.insertBefore(u,s),h.appendChild(s),s});return function(p,a){return i.apply(this,arguments)}}(),removeViewFromDom:()=>(s&&u&&(u.parentNode.insertBefore(s,u),u.remove()),Promise.resolve())}}},7683:(P,v,t)=>{t.d(v,{a:()=>l,b:()=>r,c:()=>e,d:()=>s,h:()=>o});const c={getEngine(){var u;const n=window;return n.TapticEngine||(null===(u=n.Capacitor)||void 0===u?void 0:u.isPluginAvailable("Haptics"))&&n.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(u){const n=this.getEngine();if(!n)return;const d=this.isCapacitor()?u.style.toUpperCase():u.style;n.impact({style:d})},notification(u){const n=this.getEngine();if(!n)return;const d=this.isCapacitor()?u.style.toUpperCase():u.style;n.notification({style:d})},selection(){this.impact({style:"light"})},selectionStart(){const u=this.getEngine();!u||(this.isCapacitor()?u.selectionStart():u.gestureSelectionStart())},selectionChanged(){const u=this.getEngine();!u||(this.isCapacitor()?u.selectionChanged():u.gestureSelectionChanged())},selectionEnd(){const u=this.getEngine();!u||(this.isCapacitor()?u.selectionEnd():u.gestureSelectionEnd())}},e=()=>{c.selection()},l=()=>{c.selectionStart()},r=()=>{c.selectionChanged()},o=()=>{c.selectionEnd()},s=u=>{c.impact(u)}},6465:(P,v,t)=>{t.d(v,{I:()=>o,a:()=>i,b:()=>s,c:()=>a,d:()=>C,f:()=>_,g:()=>d,i:()=>n,p:()=>g,r:()=>f,s:()=>p});var c=t(5861),e=t(3756),l=t(7208);const o="ion-content",s=".ion-content-scroll-host",u=`${o}, ${s}`,n=h=>h&&"ION-CONTENT"===h.tagName,d=function(){var h=(0,c.Z)(function*(M){return n(M)?(yield new Promise(m=>(0,e.c)(M,m)),M.getScrollElement()):M});return function(m){return h.apply(this,arguments)}}(),i=h=>h.querySelector(s)||h.querySelector(u),_=h=>h.closest(u),p=(h,M)=>n(h)?h.scrollToTop(M):Promise.resolve(h.scrollTo({top:0,left:0,behavior:M>0?"smooth":"auto"})),a=(h,M,m,E)=>n(h)?h.scrollByPoint(M,m,E):Promise.resolve(h.scrollBy({top:m,left:M,behavior:E>0?"smooth":"auto"})),g=h=>(0,l.a)(h,o),C=h=>{if(n(h)){const m=h.scrollY;return h.scrollY=!1,m}return h.style.setProperty("overflow","hidden"),!0},f=(h,M)=>{n(h)?h.scrollY=M:h.style.removeProperty("overflow")}},7208:(P,v,t)=>{t.d(v,{a:()=>l,b:()=>e,p:()=>c});const c=r=>console.warn(`[Ionic Warning]: ${r}`),e=(r,...o)=>console.error(`[Ionic Error]: ${r}`,...o),l=(r,...o)=>console.error(`<${r.tagName.toLowerCase()}> must be used inside ${o.join(" or ")}.`)},3230:(P,v,t)=>{t.d(v,{a:()=>c,b:()=>_,c:()=>s,d:()=>p,e:()=>m,f:()=>l,g:()=>e,h:()=>h,i:()=>u,j:()=>d,k:()=>a,l:()=>n,m:()=>o,n:()=>r,o:()=>i,p:()=>g,q:()=>C,r:()=>f,s:()=>M});const c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",s="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",C="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Three</title><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Two</title><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",M="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},8439:(P,v,t)=>{t.d(v,{s:()=>c});const c=n=>{try{if(n instanceof class u{constructor(d){this.value=d}})return n.value;if(!r()||"string"!=typeof n||""===n)return n;const d=document.createDocumentFragment(),i=document.createElement("div");d.appendChild(i),i.innerHTML=n,s.forEach(g=>{const C=d.querySelectorAll(g);for(let f=C.length-1;f>=0;f--){const h=C[f];h.parentNode?h.parentNode.removeChild(h):d.removeChild(h);const M=l(h);for(let m=0;m<M.length;m++)e(M[m])}});const _=l(d);for(let g=0;g<_.length;g++)e(_[g]);const p=document.createElement("div");p.appendChild(d);const a=p.querySelector("div");return null!==a?a.innerHTML:p.innerHTML}catch(d){return console.error(d),""}},e=n=>{if(n.nodeType&&1!==n.nodeType)return;for(let i=n.attributes.length-1;i>=0;i--){const _=n.attributes.item(i),p=_.name;if(!o.includes(p.toLowerCase())){n.removeAttribute(p);continue}const a=_.value;null!=a&&a.toLowerCase().includes("javascript:")&&n.removeAttribute(p)}const d=l(n);for(let i=0;i<d.length;i++)e(d[i])},l=n=>null!=n.children?n.children:n.childNodes,r=()=>{var n;const i=null===(n=window?.Ionic)||void 0===n?void 0:n.config;return!i||(i.get?i.get("sanitizerEnabled",!0):!0===i.sanitizerEnabled||void 0===i.sanitizerEnabled)},o=["class","id","href","src","name","slot"],s=["script","style","iframe","meta","link","object","embed"]},1316:(P,v,t)=>{t.r(v),t.d(v,{KEYBOARD_DID_CLOSE:()=>e,KEYBOARD_DID_OPEN:()=>c,copyVisualViewport:()=>M,keyboardDidClose:()=>g,keyboardDidOpen:()=>p,keyboardDidResize:()=>a,resetKeyboardAssist:()=>u,setKeyboardClose:()=>_,setKeyboardOpen:()=>i,startKeyboardAssist:()=>n,trackViewportChanges:()=>h});const c="ionKeyboardDidShow",e="ionKeyboardDidHide";let r={},o={},s=!1;const u=()=>{r={},o={},s=!1},n=m=>{d(m),m.visualViewport&&(o=M(m.visualViewport),m.visualViewport.onresize=()=>{h(m),p()||a(m)?i(m):g(m)&&_(m)})},d=m=>{m.addEventListener("keyboardDidShow",E=>i(m,E)),m.addEventListener("keyboardDidHide",()=>_(m))},i=(m,E)=>{C(m,E),s=!0},_=m=>{f(m),s=!1},p=()=>!s&&r.width===o.width&&(r.height-o.height)*o.scale>150,a=m=>s&&!g(m),g=m=>s&&o.height===m.innerHeight,C=(m,E)=>{const y=new CustomEvent(c,{detail:{keyboardHeight:E?E.keyboardHeight:m.innerHeight-o.height}});m.dispatchEvent(y)},f=m=>{const E=new CustomEvent(e);m.dispatchEvent(E)},h=m=>{r=Object.assign({},o),o=M(m.visualViewport)},M=m=>({width:Math.round(m.width),height:Math.round(m.height),offsetTop:m.offsetTop,offsetLeft:m.offsetLeft,pageTop:m.pageTop,pageLeft:m.pageLeft,scale:m.scale})},7741:(P,v,t)=>{t.d(v,{S:()=>e});const e={bubbles:{dur:1e3,circles:9,fn:(l,r,o)=>{const s=l*r/o-l+"ms",u=2*Math.PI*r/o;return{r:5,style:{top:9*Math.sin(u)+"px",left:9*Math.cos(u)+"px","animation-delay":s}}}},circles:{dur:1e3,circles:8,fn:(l,r,o)=>{const s=r/o,u=l*s-l+"ms",n=2*Math.PI*s;return{r:5,style:{top:9*Math.sin(n)+"px",left:9*Math.cos(n)+"px","animation-delay":u}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(l,r)=>({r:6,style:{left:9-9*r+"px","animation-delay":-110*r+"ms"}})},lines:{dur:1e3,lines:8,fn:(l,r,o)=>({y1:14,y2:26,style:{transform:`rotate(${360/o*r+(r<o/2?180:-180)}deg)`,"animation-delay":l*r/o-l+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(l,r,o)=>({y1:12,y2:20,style:{transform:`rotate(${360/o*r+(r<o/2?180:-180)}deg)`,"animation-delay":l*r/o-l+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(l,r,o)=>({y1:17,y2:29,style:{transform:`rotate(${30*r+(r<6?180:-180)}deg)`,"animation-delay":l*r/o-l+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(l,r,o)=>({y1:12,y2:20,style:{transform:`rotate(${30*r+(r<6?180:-180)}deg)`,"animation-delay":l*r/o-l+"ms"}})}}},6546:(P,v,t)=>{t.r(v),t.d(v,{createSwipeBackGesture:()=>o});var c=t(3756),e=t(5062),l=t(3139);t(3509);const o=(s,u,n,d,i)=>{const _=s.ownerDocument.defaultView,p=(0,e.i)(s),g=m=>p?-m.deltaX:m.deltaX;return(0,l.createGesture)({el:s,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:m=>(m=>{const{startX:O}=m;return p?O>=_.innerWidth-50:O<=50})(m)&&u(),onStart:n,onMove:m=>{const O=g(m)/_.innerWidth;d(O)},onEnd:m=>{const E=g(m),O=_.innerWidth,y=E/O,D=(m=>p?-m.velocityX:m.velocityX)(m),A=D>=0&&(D>.2||E>O/2),L=(A?1-y:y)*O;let B=0;if(L>5){const w=L/Math.abs(D);B=Math.min(w,540)}i(A,y<=0?.01:(0,c.l)(0,y,.9999),B)}})}},2854:(P,v,t)=>{t.d(v,{c:()=>l,g:()=>o,h:()=>e,o:()=>u});var c=t(5861);const e=(n,d)=>null!==d.closest(n),l=(n,d)=>"string"==typeof n&&n.length>0?Object.assign({"ion-color":!0,[`ion-color-${n}`]:!0},d):d,o=n=>{const d={};return(n=>void 0!==n?(Array.isArray(n)?n:n.split(" ")).filter(i=>null!=i).map(i=>i.trim()).filter(i=>""!==i):[])(n).forEach(i=>d[i]=!0),d},s=/^[a-z][a-z0-9+\-.]*:/,u=function(){var n=(0,c.Z)(function*(d,i,_,p){if(null!=d&&"#"!==d[0]&&!s.test(d)){const a=document.querySelector("ion-router");if(a)return i?.preventDefault(),a.push(d,_,p)}return!1});return function(i,_,p,a){return n.apply(this,arguments)}}()},7039:(P,v,t)=>{t.r(v),t.d(v,{CreateCampaignPageModule:()=>d});var c=t(6895),e=t(4719),l=t(4123),r=t(5012),o=t(2959),s=t(6738);const u=[{path:"",component:o.q}];let n=(()=>{class i{}return i.\u0275fac=function(p){return new(p||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[r.Bz.forChild(u),r.Bz]}),i})(),d=(()=>{class i{}return i.\u0275fac=function(p){return new(p||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[c.ez,e.u5,l.Pc,n]}),i})()},2959:(P,v,t)=>{t.d(v,{q:()=>i});var c=t(585),e=t(6738),l=t(7665),r=t(4118),o=t(4123),s=t(2468),u=t(6895),n=t(4719);function d(_,p){if(1&_&&(e.TgZ(0,"ion-select-option",8),e._uU(1),e.qZA()),2&_){const a=p.$implicit;e.Q6J("value",a.id),e.xp6(1),e.AsE("",a.lastname," ",a.firstname,"")}}let i=(()=>{class _{constructor(a,g,C,f){this.campaignService=a,this.notificationService=g,this.modalCtrl=C,this.dataService=f,this.today=(new Date).toISOString().substring(0,10),this.startDate=this.today,this.endDate=this.today}ngOnInit(){}createCampaign(){let a=new c.l;a.title=this.title,a.details=this.details,a.project=`/api/projects/${this.project.id}`,a.state="/api/campaign_states/1",a.tester=`/api/users/${this.tester}`,a.predictedStartDate=this.startDate,a.predictedEndDate=this.endDate,this.campaignService.registerNewCampaign(a).subscribe(g=>{this.dataService.notifyAboutCampaignChange(),this.notificationService.showSuccess("Vous pouvez d\xe9sormais commencer \xe0 inviter des participants et ajouter des tests!","Nouvelle campagne de test cr\xe9\xe9e!")},g=>{this.notificationService.showWarning("Veuillez recommencer l'op\xe9ration de cr\xe9ation de la campagne!","Une erreur est survenue!")}),this.modalCtrl.dismiss()}selectTester(a){this.tester=a.target.value}dismissModal(){this.modalCtrl.dismiss()}}return _.\u0275fac=function(a){return new(a||_)(e.Y36(l.U),e.Y36(r.g),e.Y36(o.IN),e.Y36(s.D))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-create"]],inputs:{project:"project"},decls:40,vars:10,consts:[[1,"close-button",3,"click"],["name","close-outline"],["position","floating"],["type","text","name","title",3,"ngModel","ngModelChange"],["name","details",3,"ngModel","ngModelChange"],["type","date","name","startDate",3,"ngModel","min","ngModelChange"],["type","date","name","endDate",3,"ngModel","min","ngModelChange"],["name","tester",3,"ionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","submit","color","primary","size","medium","expand","block",3,"click"],["name","checkbox-outline"],["color","light","size","medium","expand","block",3,"click"],["name","exit-outline"]],template:function(a,g){1&a&&(e.TgZ(0,"ion-header")(1,"button",0),e.NdJ("click",function(){return g.dismissModal()}),e._UZ(2,"ion-icon",1),e.qZA(),e.TgZ(3,"h1"),e._uU(4,"Cr\xe9ez une nouvelle campagne"),e.qZA()(),e.TgZ(5,"ion-content")(6,"form")(7,"ion-item")(8,"ion-label",2),e._uU(9,"Titre"),e.qZA(),e.TgZ(10,"ion-input",3),e.NdJ("ngModelChange",function(f){return g.title=f}),e.qZA()(),e.TgZ(11,"ion-item")(12,"ion-label",2),e._uU(13,"Description"),e.qZA(),e.TgZ(14,"ion-textarea",4),e.NdJ("ngModelChange",function(f){return g.details=f}),e.qZA()(),e.TgZ(15,"ion-item")(16,"ion-label"),e._uU(17,"D\xe9but"),e.qZA(),e.TgZ(18,"input",5),e.NdJ("ngModelChange",function(f){return g.startDate=f}),e.qZA()(),e.TgZ(19,"ion-item")(20,"ion-label"),e._uU(21,"Fin"),e.qZA(),e.TgZ(22,"input",6),e.NdJ("ngModelChange",function(f){return g.endDate=f}),e.qZA()(),e.TgZ(23,"ion-item")(24,"ion-label"),e._uU(25,"Testeur"),e.qZA(),e.TgZ(26,"ion-select",7),e.NdJ("ionChange",function(f){return g.selectTester(f)}),e.TgZ(27,"ion-select-option",8),e._uU(28),e.qZA(),e.YNc(29,d,2,3,"ion-select-option",9),e.qZA()(),e.TgZ(30,"ion-button",10),e.NdJ("click",function(){return g.createCampaign()}),e.TgZ(31,"span")(32,"span"),e._uU(33,"Cr\xe9er la campagne"),e.qZA(),e._UZ(34,"ion-icon",11),e.qZA()(),e.TgZ(35,"ion-button",12),e.NdJ("click",function(){return g.dismissModal()}),e.TgZ(36,"span")(37,"span"),e._uU(38,"Retour"),e.qZA(),e._UZ(39,"ion-icon",13),e.qZA()()()()),2&a&&(e.xp6(10),e.Q6J("ngModel",g.title),e.xp6(4),e.Q6J("ngModel",g.details),e.xp6(4),e.Q6J("ngModel",g.startDate)("min",g.today),e.xp6(4),e.Q6J("ngModel",g.endDate)("min",g.today),e.xp6(5),e.Q6J("value",g.project.author.id),e.xp6(1),e.AsE("",g.project.author.lastname," ",g.project.author.firstname,""),e.xp6(1),e.Q6J("ngForOf",g.project.contributors))},dependencies:[u.sg,n._Y,n.Fj,n.JJ,n.JL,n.On,n.F,o.YG,o.W2,o.Gu,o.gu,o.pK,o.Ie,o.Q$,o.t9,o.n0,o.g2,o.QI,o.j9],styles:["ion-button[_ngcontent-%COMP%]{width:50%;margin:0 auto 1em}ion-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-around}ion-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{flex:1}form[_ngcontent-%COMP%]{width:90%;margin:0 auto;padding:1em}form[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{color:#000}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--highlight-background: var(--ion-color-primary)}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:2em}"]}),_})()},4733:(P,v,t)=>{t.r(v),t.d(v,{CreatePageCatalogModule:()=>d});var c=t(6895),e=t(4719),l=t(4123),r=t(5012),o=t(2817),s=t(6738);const u=[{path:"",component:o.Z}];let n=(()=>{class i{}return i.\u0275fac=function(p){return new(p||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[r.Bz.forChild(u),r.Bz]}),i})(),d=(()=>{class i{}return i.\u0275fac=function(p){return new(p||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[c.ez,e.u5,l.Pc,n]}),i})()},2817:(P,v,t)=>{t.d(v,{Z:()=>_});var c=t(5861),e=t(212),l=t(6738),r=t(4911),o=t(5012),s=t(5174),u=t(3071),n=t(4123),d=t(2468),i=t(4719);let _=(()=>{class p{constructor(g,C,f,h,M,m,E,O,y){this.catalogService=g,this.router=C,this.tokenDecode=f,this.userService=h,this.alertCtrl=M,this.toastCtrl=m,this.platform=E,this.modalCtrl=O,this.dataService=y,this.error="",this.catalog=new e.g}ngOnInit(){}create(){this.userService.getUser(this.tokenDecode.getId()).subscribe(g=>{this.catalog.author=g,this.catalogService.createCatalog(this.catalog).subscribe(C=>{console.log(C),this.dataService.notifyAboutCatalogChange(),this.showSuccessNotification()},C=>{console.log(C),this.showFailureNotification()})},g=>{console.log(g),this.showFailureNotification()}),this.dismissModal()}showSuccessNotification(){var g=this;return(0,c.Z)(function*(){g.platform.is("android")?(yield g.toastCtrl.create({header:`${g.catalog.title} a \xe9t\xe9 cr\xe9\xe9!`,message:"Vous pouvez d\xe9sormais inclure des tests dans votre catalogue et l'inclure dans des campagnes.",duration:3e3})).present():(yield g.alertCtrl.create({header:`${g.catalog.title} a \xe9t\xe9 cr\xe9\xe9!`,message:"Vous pouvez d\xe9sormais inclure des tests dans votre catalogue et l'inclure dans des campagnes.",buttons:["OK"]})).present()})()}showFailureNotification(){var g=this;return(0,c.Z)(function*(){(yield g.alertCtrl.create({header:"Une erreur est survenue sur le serveur",message:"Veuillez r\xe9essayer plus tard",buttons:["OK"]})).present()})()}dismissModal(){this.modalCtrl.dismiss()}}return p.\u0275fac=function(g){return new(g||p)(l.Y36(r.a),l.Y36(o.F0),l.Y36(s.j),l.Y36(u.K),l.Y36(n.Br),l.Y36(n.yF),l.Y36(n.t4),l.Y36(n.IN),l.Y36(d.D))},p.\u0275cmp=l.Xpm({type:p,selectors:[["app-catalog-create"]],decls:29,vars:3,consts:[[1,"close-button",3,"click"],["name","close-outline"],["expand","block"],["name","download"],["position","floating"],["type","text","name","titre",3,"ngModel","ngModelChange"],["name","description",3,"ngModel","ngModelChange"],["type","submit","color","primary","size","medium","expand","block",3,"click"],["name","checkbox-outline"],["color","light","size","medium","expand","block",3,"click"],["name","exit-outline"]],template:function(g,C){1&g&&(l.TgZ(0,"ion-header")(1,"button",0),l.NdJ("click",function(){return C.dismissModal()}),l._UZ(2,"ion-icon",1),l.qZA(),l.TgZ(3,"h1"),l._uU(4,"Cr\xe9\xe9z un Nouveau Catalogue"),l.qZA()(),l.TgZ(5,"ion-content")(6,"form")(7,"ion-button",2),l._UZ(8,"ion-icon",3),l.TgZ(9,"ion-title"),l._uU(10,"Choisir un fichier"),l.qZA()(),l.TgZ(11,"ion-item")(12,"ion-label",4),l._uU(13,"Titre"),l.qZA(),l.TgZ(14,"ion-input",5),l.NdJ("ngModelChange",function(h){return C.catalog.title=h}),l.qZA()(),l.TgZ(15,"ion-item")(16,"ion-label",4),l._uU(17,"Description"),l.qZA(),l.TgZ(18,"ion-textarea",6),l.NdJ("ngModelChange",function(h){return C.catalog.description=h}),l.qZA()(),l.TgZ(19,"ion-button",7),l.NdJ("click",function(){return C.create()}),l.TgZ(20,"span")(21,"span"),l._uU(22),l.qZA(),l._UZ(23,"ion-icon",8),l.qZA()(),l.TgZ(24,"ion-button",9),l.NdJ("click",function(){return C.dismissModal()}),l.TgZ(25,"span")(26,"span"),l._uU(27,"Retour"),l.qZA(),l._UZ(28,"ion-icon",10),l.qZA()()()()),2&g&&(l.xp6(14),l.Q6J("ngModel",C.catalog.title),l.xp6(4),l.Q6J("ngModel",C.catalog.description),l.xp6(4),l.hij("Cr\xe9er le catalogue: ",C.catalog.title,""))},dependencies:[i._Y,i.JJ,i.JL,i.On,i.F,n.YG,n.W2,n.Gu,n.gu,n.pK,n.Ie,n.Q$,n.g2,n.wd,n.j9],styles:["ion-button[_ngcontent-%COMP%]{width:50%;margin:0 auto 1em}ion-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-around}ion-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{flex:1}form[_ngcontent-%COMP%]{width:90%;margin:0 auto;padding:1em}form[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{color:#000}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--highlight-background: var(--ion-color-primary)}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:2em}"]}),p})()},6604:(P,v,t)=>{t.d(v,{i:()=>n});var c=t(6738),e=t(4123),l=t(2351),r=t(6895),o=t(5012);const s=function(){return["/profile"]};function u(d,i){1&d&&(c.TgZ(0,"ion-footer",1)(1,"ion-toolbar",2)(2,"ion-buttons",3)(3,"ion-grid")(4,"ion-row")(5,"ion-col",4)(6,"ion-button",5),c._UZ(7,"ion-icon",6),c.qZA()(),c.TgZ(8,"ion-col",4)(9,"ion-button",7),c._UZ(10,"ion-icon",8),c.qZA()(),c.TgZ(11,"ion-col",4)(12,"ion-button",9),c._UZ(13,"ion-icon",10),c.qZA()(),c.TgZ(14,"ion-col",4)(15,"ion-button",11),c._UZ(16,"ion-icon",12),c.qZA()(),c.TgZ(17,"ion-col",4)(18,"ion-button",13),c._UZ(19,"ion-icon",14),c.qZA()(),c.TgZ(20,"ion-col",4)(21,"ion-button",15),c._UZ(22,"ion-icon",16),c.qZA()(),c.TgZ(23,"ion-col",4)(24,"ion-button",15),c._UZ(25,"ion-icon",17),c.qZA()()()()()()()),2&d&&(c.xp6(18),c.Q6J("routerLink",c.DdM(1,s)))}let n=(()=>{class d{constructor(_,p){this.platform=_,this.screensizeService=p,this.initializeApp(),this.screensizeService.isDesktopView().subscribe(a=>{this.isDesktop=a})}onResize(_){this.screensizeService.onResize(_.target.innerWidth)}initializeApp(){this.platform.ready().then(()=>{this.screensizeService.onResize(this.platform.width())})}ngOnInit(){}}return d.\u0275fac=function(_){return new(_||d)(c.Y36(e.t4),c.Y36(l.j))},d.\u0275cmp=c.Xpm({type:d,selectors:[["app-footer-menu"]],hostBindings:function(_,p){1&_&&c.NdJ("resize",function(g){return p.onResize(g)},!1,c.Jf7)},decls:1,vars:1,consts:[["class","footer",4,"ngIf"],[1,"footer"],[1,"headerColors"],["text-center",""],["col-2",""],["icon-only","","expand","full","routerLink","/dashboard"],["name","home"],["icon-only","","expand","full","routerLink","/test/list"],["name","newspaper"],["icon-only","","expand","full","routerLink","/catalog/list"],["name","folder"],["icon-only","","expand","full","routerLink","/project/list"],["name","file-tray-full"],["icon-only","","expand","full",3,"routerLink"],["name","person"],["icon-only","","expand","full","routerLink","/legal"],["name","information"],["name","mail"]],template:function(_,p){1&_&&c.YNc(0,u,26,2,"ion-footer",0),2&_&&c.Q6J("ngIf",!p.isDesktop)},dependencies:[r.O5,e.YG,e.Sm,e.wI,e.fr,e.jY,e.gu,e.Nd,e.sr,e.YI,o.rH]}),d})()},5721:(P,v,t)=>{t.d(v,{h:()=>o});var c=t(6895),e=t(4123),l=t(5012),r=t(6738);let o=(()=>{class s{}return s.\u0275fac=function(n){return new(n||s)},s.\u0275mod=r.oAB({type:s}),s.\u0275inj=r.cJS({imports:[c.ez,e.Pc,l.Bz]}),s})()},3482:(P,v,t)=>{t.d(v,{G:()=>s});var c=t(6738),e=t(4123),l=t(2351),r=t(6895);function o(u,n){1&u&&(c.TgZ(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3),c._UZ(3,"ion-menu-button"),c.qZA(),c.TgZ(4,"ion-title"),c._uU(5,"Menu"),c.qZA()()()),2&u&&c.Q6J("translucent",!0)}let s=(()=>{class u{constructor(d,i){this.platform=d,this.screensizeService=i,this.initializeApp(),this.screensizeService.isDesktopView().subscribe(_=>{this.isDesktop=_})}onResize(d){this.screensizeService.onResize(d.target.innerWidth)}initializeApp(){this.platform.ready().then(()=>{this.screensizeService.onResize(this.platform.width())})}ngOnInit(){}}return u.\u0275fac=function(d){return new(d||u)(c.Y36(e.t4),c.Y36(l.j))},u.\u0275cmp=c.Xpm({type:u,selectors:[["app-header"]],hostBindings:function(d,i){1&d&&c.NdJ("resize",function(p){return i.onResize(p)},!1,c.Jf7)},decls:1,vars:1,consts:[[3,"translucent",4,"ngIf"],[3,"translucent"],[1,"headerColors"],["slot","start"]],template:function(d,i){1&d&&c.YNc(0,o,6,1,"ion-header",0),2&d&&c.Q6J("ngIf",i.isDesktop)},dependencies:[r.O5,e.Sm,e.Gu,e.fG,e.sr,e.wd],styles:["*[_ngcontent-%COMP%]{font-family:var(--ion-font-family)}.navbar-brand[_ngcontent-%COMP%]{margin-right:2rem}"]}),u})()},677:(P,v,t)=>{t.d(v,{O:()=>r});var c=t(6895),e=t(4123),l=t(6738);let r=(()=>{class o{}return o.\u0275fac=function(u){return new(u||o)},o.\u0275mod=l.oAB({type:o}),o.\u0275inj=l.cJS({imports:[c.ez,e.Pc]}),o})()},585:(P,v,t)=>{t.d(v,{l:()=>c});class c{}},212:(P,v,t)=>{t.d(v,{g:()=>c});class c{}},7397:(P,v,t)=>{t.d(v,{I:()=>c});class c{}},535:(P,v,t)=>{t.d(v,{e:()=>c});class c{}},5783:(P,v,t)=>{t.d(v,{n:()=>c});class c{}},7702:(P,v,t)=>{t.r(v),t.d(v,{CreateProjectPageModule:()=>d});var c=t(6895),e=t(4719),l=t(4123),r=t(5012),o=t(8129),s=t(6738);const u=[{path:"",component:o.o}];let n=(()=>{class i{}return i.\u0275fac=function(p){return new(p||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[r.Bz.forChild(u),r.Bz]}),i})(),d=(()=>{class i{}return i.\u0275fac=function(p){return new(p||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[c.ez,e.u5,l.Pc,n]}),i})()},8129:(P,v,t)=>{t.d(v,{o:()=>a});var c=t(5861),e=t(7397),l=t(5783),r=t(8897),o=t(6738),s=t(4123),u=t(354),n=t(5012),d=t(3071),i=t(5174),_=t(2468),p=t(4719);let a=(()=>{class g{constructor(f,h,M,m,E,O,y,D,T){this.alertCtrl=f,this.toastCtrl=h,this.platform=M,this.projectService=m,this.router=E,this.modalCtrl=O,this.userService=y,this.tokenDecode=D,this.dataService=T,this.project=new e.I,this.project.author=new l.n}ngOnInit(){}submitProject(){this.project.author.id=this.tokenDecode.getId(),this.projectService.registerNewProject(this.project).subscribe(f=>{console.log(f),this.dataService.notifyAboutProjectChange(),this.router.navigate([r.Ne]),this.showSuccessNotification()},f=>{console.log(f),this.showFailureNotification()}),this.dismissModal()}dismissModal(){this.modalCtrl.dismiss()}showSuccessNotification(){var f=this;return(0,c.Z)(function*(){f.platform.is("android")?(yield f.toastCtrl.create({header:`${f.project.name} a \xe9t\xe9 cr\xe9\xe9!`,message:"Vous pouvez d\xe9sormais commencer \xe0 inviter des participants et cr\xe9er des campagnes de test!",duration:3e3})).present():(yield f.alertCtrl.create({header:`${f.project.name} a \xe9t\xe9 cr\xe9\xe9!`,message:"Vous pouvez d\xe9sormais commencer \xe0 inviter des participants et cr\xe9er des campagnes de test!",buttons:["OK"]})).present()})()}showFailureNotification(){var f=this;return(0,c.Z)(function*(){(yield f.alertCtrl.create({header:"Une erreur est survenue sur le serveur",message:"Veuillez r\xe9essayer plus tard",buttons:["OK"]})).present()})()}}return g.\u0275fac=function(f){return new(f||g)(o.Y36(s.Br),o.Y36(s.yF),o.Y36(s.t4),o.Y36(u.Y),o.Y36(n.F0),o.Y36(s.IN),o.Y36(d.K),o.Y36(i.j),o.Y36(_.D))},g.\u0275cmp=o.Xpm({type:g,selectors:[["app-project-create"]],decls:25,vars:2,consts:[[1,"close-button",3,"click"],["name","close-outline"],["position","floating"],["type","text","name","titre",3,"ngModel","ngModelChange"],["name","description",3,"ngModel","ngModelChange"],["type","submit","color","primary","size","medium","expand","block",3,"click"],["name","checkbox-outline"],["color","light","size","medium","expand","block",3,"click"],["name","exit-outline"]],template:function(f,h){1&f&&(o.TgZ(0,"ion-header")(1,"button",0),o.NdJ("click",function(){return h.dismissModal()}),o._UZ(2,"ion-icon",1),o.qZA(),o.TgZ(3,"h1"),o._uU(4,"Cr\xe9\xe9z un Nouveau Projet"),o.qZA()(),o.TgZ(5,"ion-content")(6,"form")(7,"ion-item")(8,"ion-label",2),o._uU(9,"Titre"),o.qZA(),o.TgZ(10,"ion-input",3),o.NdJ("ngModelChange",function(m){return h.project.name=m}),o.qZA()(),o.TgZ(11,"ion-item")(12,"ion-label",2),o._uU(13,"Description"),o.qZA(),o.TgZ(14,"ion-textarea",4),o.NdJ("ngModelChange",function(m){return h.project.description=m}),o.qZA()(),o.TgZ(15,"ion-button",5),o.NdJ("click",function(){return h.submitProject()}),o.TgZ(16,"span")(17,"span"),o._uU(18,"Cr\xe9er le projet"),o.qZA(),o._UZ(19,"ion-icon",6),o.qZA()(),o.TgZ(20,"ion-button",7),o.NdJ("click",function(){return h.dismissModal()}),o.TgZ(21,"span")(22,"span"),o._uU(23,"Retour"),o.qZA(),o._UZ(24,"ion-icon",8),o.qZA()()()()),2&f&&(o.xp6(10),o.Q6J("ngModel",h.project.name),o.xp6(4),o.Q6J("ngModel",h.project.description))},dependencies:[p._Y,p.JJ,p.JL,p.On,p.F,s.YG,s.W2,s.Gu,s.gu,s.pK,s.Ie,s.Q$,s.g2,s.j9],styles:["ion-button[_ngcontent-%COMP%]{width:50%;margin:0 auto 1em}ion-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-around}ion-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{flex:1}form[_ngcontent-%COMP%]{width:90%;margin:0 auto;padding:1em}form[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{color:#000}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--highlight-background: var(--ion-color-primary)}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:2em}"]}),g})()},7665:(P,v,t)=>{t.d(v,{U:()=>o});var c=t(2340),e=t(9402),l=t(6738),r=t(529);let o=(()=>{class s{constructor(n){this.http=n}registerNewCampaign(n){return this.http.post(`${c.N.baseUrl}${e.X4}`,JSON.stringify(n))}getProjectById(n){return this.http.get(`${c.N.baseUrl}${e.Vd}/${n}`)}deleteCampaignById(n){return this.http.delete(`${c.N.baseUrl}${e.X4}/${n}`)}}return s.\u0275fac=function(n){return new(n||s)(l.LFG(r.eN))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4911:(P,v,t)=>{t.d(v,{a:()=>o});var c=t(2340),e=t(9402),l=t(6738),r=t(529);let o=(()=>{class s{constructor(n){this.http=n}createCatalog(n){return this.http.post(`${c.N.baseUrl}${e.Ln}`,{title:`${n.title}`,description:`${n.description}`,author:`/api/users/${n.author.id}`})}getCatalog(n){return this.http.get(`${c.N.baseUrl}${e.Ln}/${n}`)}getCatalogsList(n=1){return this.http.get(`${c.N.baseUrl}${e.Ln}`)}updateCatalog(n,d){null==d.description&&(d.description="");let i='{"title":"'+d.title+'","description":"'+d.description;if(d.tests.length>0){i+='","tests":["';for(let _=0;_<d.tests.length;_++)i+=_<d.tests.length-1?"/api/tests/"+d.tests[_].id.toString()+'","':"/api/tests/"+d.tests[_].id.toString()+'"]}'}else i+='","tests":[]}';return console.log(i),this.http.patch(`${c.N.baseUrl}${e.Ln}/${n}`,i)}deleteCatalog(n){return this.http.delete(`${c.N.baseUrl}${e.Ln}/${n}`)}}return s.\u0275fac=function(n){return new(n||s)(l.LFG(r.eN))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},2468:(P,v,t)=>{t.d(v,{D:()=>l});var c=t(5529),e=t(6738);let l=(()=>{class r{constructor(){this.projectListNotifier=new c.xQ,this.testListNotifier=new c.xQ,this.catalogListNotifier=new c.xQ,this.campaignListNotifier=new c.xQ}notifyAboutProjectChange(){this.projectListNotifier.next()}notifyAboutTestChange(){this.testListNotifier.next()}notifyAboutCatalogChange(){this.catalogListNotifier.next()}notifyAboutCampaignChange(){this.campaignListNotifier.next()}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},2511:(P,v,t)=>{t.d(v,{q:()=>o});var c=t(2340),e=t(9402),l=t(6738),r=t(529);let o=(()=>{class s{constructor(n){this.http=n}createTest(n){let d='{"title":"'+n.title+'","description":"'+n.description+'","author":"/api/users/'+n.author.id;if(n.catalogs.length>0){d+='","catalogs":["';for(let i=0;i<n.catalogs.length;i++)d+=i<n.catalogs.length-1?'"/api/catalogs/'+n.catalogs[i].id.toString()+'",':"/api/catalogs/"+n.catalogs[i].id.toString()+'"]}'}else d+='","catalogs":[]}';return console.log(d),this.http.post(`${c.N.baseUrl}${e.QI}`,d)}getTest(n){return this.http.get(`${c.N.baseUrl}${e.QI}/${n}`)}getTestList(n=1){return this.http.get(`${c.N.baseUrl}${e.QI}`)}updateTest(n,d){return this.http.patch(`${c.N.baseUrl}${e.QI}/${n}`,{title:`${d.title}`,description:`${d.description}`})}deleteTest(n){return this.http.delete(`${c.N.baseUrl}${e.QI}/${n}`)}}return s.\u0275fac=function(n){return new(n||s)(l.LFG(r.eN))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},8701:(P,v,t)=>{t.d(v,{L:()=>e});var c=t(4123);class e{constructor(){this.enterAnimation=r=>{const o=r.shadowRoot,s=this.animationCtrl.create().addElement(o.querySelector("ion-backdrop")).fromTo("opacity","0.01","var(--backdrop-opacity)"),u=this.animationCtrl.create().addElement(o.querySelector(".modal-wrapper")).keyframes([{offset:0,opacity:"0",transform:"scale(0)"},{offset:1,opacity:"0.99",transform:"scale(1)"}]);return this.animationCtrl.create().addElement(r).easing("ease-out").duration(250).addAnimation([s,u])},this.leaveAnimation=r=>this.enterAnimation(r).direction("reverse"),this.animationCtrl=new c.vB}static getModalAnimation(){return e.modalAnimation||(this.modalAnimation=new e),e.modalAnimation}}},3699:(P,v,t)=>{t.d(v,{W:()=>i});var c=t(585);class e{}var l=t(212),r=t(7397),o=t(535),s=t(5783);class u{}class n{}var d=t(6738);let i=(()=>{class _{constructor(){}jsonToTest(a){return null!=(a=Object.setPrototypeOf(a,o.e.prototype)).author&&(a.author=Object.setPrototypeOf(a.author,s.n.prototype)),null!=a.catalogs&&a.catalogs.map(g=>Object.setPrototypeOf(g,l.g.prototype)),a}jsonToUser(a){return null!=(a=Object.setPrototypeOf(a,s.n.prototype)).tests&&a.tests.map(g=>Object.setPrototypeOf(g,o.e.prototype)),null!=a.projects&&a.projects.map(g=>Object.setPrototypeOf(g,r.I.prototype)),null!=a.projectsContributed&&a.projectsContributed.map(g=>Object.setPrototypeOf(g,r.I.prototype)),null!=a.catalogs&&a.catalogs.map(g=>Object.setPrototypeOf(g,l.g.prototype)),null!=a.campaigns&&a.campaigns.map(g=>Object.setPrototypeOf(g,c.l.prototype)),a}jsonToCatalog(a){return null!=(a=Object.setPrototypeOf(a,l.g.prototype)).author&&(a.author=Object.setPrototypeOf(a.author,s.n.prototype)),null!=a.tests&&a.tests.map(g=>Object.setPrototypeOf(g,o.e.prototype)),a}jsonToProject(a){return null!=(a=Object.setPrototypeOf(a,r.I.prototype)).author&&(a.author=Object.setPrototypeOf(a.author,s.n.prototype)),null!=a.contributors&&a.contributors.map(g=>Object.setPrototypeOf(g,s.n.prototype)),null!=a.campaigns&&a.campaigns.map(g=>Object.setPrototypeOf(g,c.l.prototype)),a}jsonToCampaign(a){return null!=(a=Object.setPrototypeOf(a,c.l.prototype)).project&&(a.project=Object.setPrototypeOf(a.project,r.I.prototype)),null!=a.state&&(a.state=Object.setPrototypeOf(a.state,e.prototype)),null!=a.tester&&(a.tester=Object.setPrototypeOf(a.tester,s.n.prototype)),null!=a.tests&&a.tests.map(g=>Object.setPrototypeOf(g,o.e.prototype)),null!=a.contributors&&a.contributors.map(g=>Object.setPrototypeOf(g,s.n.prototype)),a}jsonToCampaignState(a){return Object.setPrototypeOf(a,e.prototype)}jsonToCampaignTest(a){return null!=(a=Object.setPrototypeOf(a,u.prototype)).test&&(a.test=Object.setPrototypeOf(a.test,o.e.prototype)),null!=a.campaign&&(a.campaign=Object.setPrototypeOf(a.campaign,c.l.prototype)),a}jsonToCredentials(a){return Object.setPrototypeOf(a,Credential.prototype)}jsonToRole(a){return Object.setPrototypeOf(a,n.prototype)}}return _.\u0275fac=function(a){return new(a||_)},_.\u0275prov=d.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},5071:(P,v,t)=>{t.r(v),t.d(v,{CreatePageModule:()=>d});var c=t(6895),e=t(4719),l=t(4123),r=t(5012),o=t(9372),s=t(6738);const u=[{path:"",component:o.a}];let n=(()=>{class i{}return i.\u0275fac=function(p){return new(p||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[r.Bz.forChild(u),r.Bz]}),i})(),d=(()=>{class i{}return i.\u0275fac=function(p){return new(p||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[c.ez,e.u5,l.Pc,n]}),i})()},9372:(P,v,t)=>{t.d(v,{a:()=>a});var c=t(5861),e=t(535),l=t(8897),r=t(6738),o=t(2511),s=t(5012),u=t(5174),n=t(3071),d=t(4123),i=t(2468),_=t(3699),p=t(4719);let a=(()=>{class g{constructor(f,h,M,m,E,O,y,D,T,A,b){this.testService=f,this.router=h,this.tokenDecode=M,this.userService=m,this.alertCtrl=E,this.toastCtrl=O,this.platform=y,this.modalCtrl=D,this.dataService=T,this.navParams=A,this.castService=b,this.error="",this.test=new e.e,this.test.catalogs=new Array}ngOnInit(){}create(){this.userService.getUser(this.tokenDecode.getId()).subscribe(f=>{this.test.author=f,null!=this.catalog&&null!=this.catalog&&this.test.catalogs.push(this.catalog),this.testService.createTest(this.test).subscribe(h=>{console.log(h),this.dataService.notifyAboutTestChange(),0==this.test.catalogs.length?this.router.navigate([l.oy]):this.dataService.notifyAboutCatalogChange(),this.showSuccessNotification()},h=>{console.log(h),this.showFailureNotification()})},f=>{console.log(f),this.showFailureNotification()}),this.modalCtrl.dismiss()}dismissModal(){this.modalCtrl.dismiss()}showSuccessNotification(){var f=this;return(0,c.Z)(function*(){f.platform.is("android")?(yield f.toastCtrl.create({header:`${f.test.title} a \xe9t\xe9 cr\xe9\xe9!`,message:"Vous pouvez d\xe9sormais inclure votre test dans des catalogues.",duration:3e3})).present():(yield f.alertCtrl.create({header:`${f.test.title} a \xe9t\xe9 cr\xe9\xe9!`,message:"Vous pouvez d\xe9sormais inclure votre test dans des catalogues.",buttons:["OK"]})).present()})()}showFailureNotification(){var f=this;return(0,c.Z)(function*(){(yield f.alertCtrl.create({header:"Une erreur est survenue sur le serveur",message:"Veuillez r\xe9essayer plus tard",buttons:["OK"]})).present()})()}}return g.\u0275fac=function(f){return new(f||g)(r.Y36(o.q),r.Y36(s.F0),r.Y36(u.j),r.Y36(n.K),r.Y36(d.Br),r.Y36(d.yF),r.Y36(d.t4),r.Y36(d.IN),r.Y36(i.D),r.Y36(d.X1),r.Y36(_.W))},g.\u0275cmp=r.Xpm({type:g,selectors:[["app-test-create"]],inputs:{catalog:"catalog"},decls:25,vars:3,consts:[[1,"close-button",3,"click"],["name","close-outline"],["position","floating"],["type","text","name","titre",3,"ngModel","ngModelChange"],["name","description",3,"ngModel","ngModelChange"],["type","submit","color","primary","size","medium","expand","block",3,"click"],["name","checkbox-outline"],["color","light","size","medium","expand","block",3,"click"],["name","exit-outline"]],template:function(f,h){1&f&&(r.TgZ(0,"ion-header")(1,"button",0),r.NdJ("click",function(){return h.dismissModal()}),r._UZ(2,"ion-icon",1),r.qZA(),r.TgZ(3,"h1"),r._uU(4,"Cr\xe9\xe9z un Nouveau Test"),r.qZA()(),r.TgZ(5,"ion-content")(6,"form")(7,"ion-item")(8,"ion-label",2),r._uU(9,"Titre"),r.qZA(),r.TgZ(10,"ion-input",3),r.NdJ("ngModelChange",function(m){return h.test.title=m}),r.qZA()(),r.TgZ(11,"ion-item")(12,"ion-label",2),r._uU(13,"Description"),r.qZA(),r.TgZ(14,"ion-textarea",4),r.NdJ("ngModelChange",function(m){return h.test.description=m}),r.qZA()(),r.TgZ(15,"ion-button",5),r.NdJ("click",function(){return h.create()}),r.TgZ(16,"span")(17,"span"),r._uU(18),r.qZA(),r._UZ(19,"ion-icon",6),r.qZA()(),r.TgZ(20,"ion-button",7),r.NdJ("click",function(){return h.dismissModal()}),r.TgZ(21,"span")(22,"span"),r._uU(23,"Retour"),r.qZA(),r._UZ(24,"ion-icon",8),r.qZA()()()()),2&f&&(r.xp6(10),r.Q6J("ngModel",h.test.title),r.xp6(4),r.Q6J("ngModel",h.test.description),r.xp6(4),r.hij("Cr\xe9er le test: ",h.test.title,""))},dependencies:[p._Y,p.JJ,p.JL,p.On,p.F,d.YG,d.W2,d.Gu,d.gu,d.pK,d.Ie,d.Q$,d.g2,d.j9],styles:["ion-button[_ngcontent-%COMP%]{width:50%;margin:0 auto 1em}ion-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px!important}ion-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:space-around}ion-button[_ngcontent-%COMP%] > span[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:first-child{flex:1}form[_ngcontent-%COMP%]{width:90%;margin:0 auto;padding:1em}form[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{color:#000}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--highlight-background: var(--ion-color-primary)}form[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:last-of-type{margin-bottom:2em}"]}),g})()}}]);